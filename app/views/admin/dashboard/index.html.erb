<h1>Admin Dashboard</h1>

<h2>Users</h2>
<%= link_to "Create New User", new_admin_user_path, class: "btn btn-primary" %>

<table>
  <tr>
    <th>Name</th>
    <th>Email</th>
    <th>Status</th>
    <th>Actions</th>
  </tr>
  <% @users.each do |user| %>
    <tr>
      <td><%= user.first_name %> <%= user.last_name %></td>
      <td><%= user.email %></td>
      <td><%= user.phone_number%>
      <td><%= user.active? ? "Active" : "Inactive" %></td>

      <td>
        <% if user.active? %>
          <%= link_to "Deactivate", deactivate_admin_user_path(user), method: :patch, class: "bg-red-500 text-white px-2 py-1 rounded", data: { turbo_method: :patch } %>
        <% else %>
          <%= link_to "Activate", activate_admin_user_path(user), method: :patch, class: "bg-green-500 text-white px-2 py-1 rounded", data: { turbo_method: :patch } %>
        <% end %>
      </td>
      <td>
        <%= link_to "Show", admin_user_path(user), class: "btn btn-primary" %>
        </td>
      <td>
        <%= link_to "Edit", edit_admin_user_path(user), class: "btn btn-info" %>
      </td>
      <td>
        <%= button_to "Delete", admin_user_path(user), method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-danger" %>

      </td>
    </tr>
  <% end %>
</table>
